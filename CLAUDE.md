# txstack

> Personal tech stack showcase â€” a static site cataloging every tool, app, and service used for development and productivity.

**Stack**: Handlebars + custom Node.js build + Airtable (CMS) + Netlify
**Author**: Anthony (Moana)

---

## Project Overview

txstack is a single-page static site that displays 100+ tools across 11 categories. Tools span Mac apps, iOS apps, and web services. Each tool is a markdown file with YAML frontmatter. A custom `build.js` script reads the markdown, compiles Handlebars templates, and outputs static HTML.

**CMS**: Airtable â€” all tool metadata managed in an Airtable base, synced to markdown via `scripts/sync-airtable.js`.
**Hosting**: Netlify â€” auto-deploys on push to `main`.

---

## Project Structure

```
content/tools/<category>/*.md â†’ Tool entries organized by category subfolder
content/categories.json   â†’ 11 categories with icons and subcategories
content/catalog.json      â†’ Auto-generated tool index (built by build.js)
content/scan-report.json  â†’ Latest app scan results (built by scan-apps.js)
content/settings.json     â†’ Site title, author, theme preference
templates/index.hbs       â†’ Main page layout (Handlebars)
templates/partials/       â†’ Reusable components (tool-card.hbs)
src/styles/               â†’ main.css (layout) + themes.css (color schemes)
src/scripts/              â†’ theme.js, search.js, filter.js, modal.js
scripts/scan-apps.js      â†’ Mac app scanner and tool generator
scripts/scan-usage.js     â†’ iOS/web usage scanner (queries Timing app DB)
scripts/sync-airtable.js  â†’ Airtable â†” markdown sync (push/pull)
scripts/generate-tools.js â†’ Batch tool creator with icon fetching
build.js                  â†’ Custom static site generator
dev-server.js             â†’ Express + Chokidar dev server (port 3000)
public/                   â†’ Build output (local dev)
.airtable-sync.json       â†’ Airtable table ID config (auto-generated)
```

---

## Development Commands

```bash
# Local development with live reload
npm run dev              # â†’ node build.js && node dev-server.js

# Production build (used by Netlify)
npm run build            # â†’ node build.js

# Airtable sync
npm run sync:pull        # Airtable â†’ markdown (after editing in Airtable)
npm run sync:push        # Markdown â†’ Airtable (after editing markdown locally)
npm run sync:status      # Show sync status

# Scan Mac for installed apps
node scripts/scan-apps.js              # Report only
node scripts/scan-apps.js --generate   # Create .md files for new apps
node scripts/scan-apps.js --recent     # Show recently added tools
node scripts/scan-apps.js --missing    # Show catalog tools not on this Mac

# Scan iOS apps and web services (from Timing app)
node scripts/scan-usage.js             # Full report
node scripts/scan-usage.js --ios       # iOS only
node scripts/scan-usage.js --web       # Web only

# Generate tool files with icons (batch)
node scripts/generate-tools.js         # Create all checked entries
node scripts/generate-tools.js --dry-run

# Linting
npm run lint             # Check only
npm run lint:fix         # Auto-fix
```

---

## Content Workflow

### Editing tools
1. Open Airtable base (txstack) â†’ Tools table
2. Edit fields â€” filter, sort, bulk-toggle as needed
3. Run `npm run sync:pull` to update markdown files
4. `git commit && git push` â†’ Netlify auto-deploys

### Adding new tools
1. Create row in Airtable with `display: false`
2. Run `npm run sync:pull` â†’ creates markdown file
3. Review, set `display: true` in Airtable
4. Run `npm run sync:pull` again, then commit + push

### Alternative: edit markdown directly
Edit `.md` files locally, then `npm run sync:push` to update Airtable.

---

## Key Configuration

| Item | Location |
|------|----------|
| Airtable base | `appEXHu3lADOVK0HS` (txstack) |
| Airtable sync config | `.airtable-sync.json` |
| Netlify config | `netlify.toml` |
| Site settings | `content/settings.json` |
| Categories | `content/categories.json` |
| Catalog index | `content/catalog.json` (auto-generated by build) |
| Git remote | SSH (`git@github.com`) |

---

## Coding Standards

- **Vanilla JS** â€” no frameworks. Search, filter, modal, and theme are hand-written ES6
- **No TypeScript** in runtime code
- **Handlebars** for templating â€” logic-less, partials-based
- **CSS custom properties** for theming (light/dark/auto)
- **CommonJS** in build scripts (`require`), ES6 in browser scripts
- **Node 18** â€” pinned in `.nvmrc` and `netlify.toml`

---

## Code Quality (Biome)

This project uses [Biome](https://biomejs.dev/) for linting and formatting. Configuration is in `biome.json`.

```bash
npx @biomejs/biome check .        # Check
npx @biomejs/biome check . --write # Auto-fix
```

### Key rules
- Single quotes, 2-space indent, 120 char line width, semicolons
- Unused variables and imports are warnings (not errors)
- `console.log` is allowed (build scripts rely on it)
- CSS linting enabled

### Excluded from linting
- `dist/`, `public/` â€” build output
- `package-lock.json`

---

## Content Schema (Tool Frontmatter)

Each tool markdown file in `content/tools/<category>/` has these fields:

```yaml
name: "Tool Name"
type: "mac"                        # mac | ios | web (defaults to "mac" if missing)
category: "development"            # One of 11 categories
subcategory: "code-editor"         # Free-text subcategory
icon: "https://res.cloudinary.com/..."  # Icon URL (Cloudinary)
url: "https://example.com"         # Tool website
tags: ["tag1", "tag2"]             # Searchable tags
status: "active"                   # active | retired
featured: true                     # Blue accent bar on card
devices: ["mbp", "studio", "ios"]  # Device availability
display: true                      # Show on site
previouslyUsed: "old-tool-slug"    # Slug of previous tool (renders as link)
replacedBy: "new-tool-slug"        # Slug of replacement (renders as link)
startedUsing: "2020"               # Year started using this tool
dateAdded: "2026-02-26"            # When added to txstack
```

Body text (after `---`) is shown as "Why I Use It" for active tools, "Why I Stopped Using It" for retired tools.

---

## Icons

All icons are hosted on **Cloudinary** (cloud name: `dk3rktqns`).

- **Mac apps**: Uploaded from macOS icon artwork
- **iOS apps**: Fetched via iTunes Search API â†’ uploaded to Cloudinary
- **Web services**: Fetched via logo.dev API â†’ uploaded to Cloudinary
- **Upload script**: `scripts/generate-tools.js` handles batch icon fetching and Cloudinary upload
- **Credentials**: Cloudinary and logo.dev keys stored in 1Password, accessed via mcp-secrets-assistant at localhost:9102

---

## Deployment

Netlify auto-deploys when you push to `main`:
1. Netlify runs `BUILD_DIR=dist node build.js`
2. Output goes to `dist/`

Manual deploy: `npm run build` locally, then push.

---

## Secrets Management

Secrets are stored in **1Password** and accessed locally via mcp-secrets-assistant (localhost:9102):

| Secret | 1Password Item | Field |
|--------|---------------|-------|
| Airtable PAT | `airtable.com_mcpassistant` | `credential` |
| Cloudinary API key | `Cloudinary_txstack` | `api_key` |
| Cloudinary API secret | `Cloudinary_txstack` | `API_SECRET` |
| logo.dev token | `Logo.dev-txstack` | `publishable_key` |

No secrets are needed for the Netlify build â€” it only reads markdown files from git.

**Never** display secret values in chat, logs, or commit them to the repo.

---

## ðŸ”´ Session Tracking (_WORKING.md)

**AI AGENTS: You MUST maintain `_WORKING.md` in the project root.**

### At the START of every session:
1. Read `_WORKING.md` to understand previous work, decisions, and open TODOs
2. Note the current status and any unresolved issues

### At the END of every session:
1. Add a new session entry to the **Session Log** section at the bottom
2. Update the **Current Status** section if anything changed
3. Update the **TODO** section â€” check off completed items, add new ones

### Session Entry Format

```markdown
### YYYY-MM-DD â€” Session N: Brief Title

**Summary**: 1-2 sentences describing what was accomplished.

**Challenges & Solutions**:
- **Problem description** â€” what went wrong or was difficult
  - **Solution**: How it was resolved

**Key Decisions**:
- Decision made and why

**Learnings**:
- Something discovered that's useful for future sessions
```

### What to Track
- What was accomplished (be specific â€” file names, commands run)
- Problems encountered and how they were solved
- Decisions made and the reasoning
- Anything learned that would help in the next session
- Files modified

### What NOT to Track
- Generic descriptions ("worked on the project")
- AI conversation meta-commentary
- Permission prompts or tool mechanics

### Top-Level Sections to Maintain

| Section | Update When |
|---------|-------------|
| **Challenges & Solutions** | New issues discovered or resolved |
| **Key Decisions** | Architecture or approach decisions made |
| **Learnings** | New insights worth preserving |
| **Current Status** | Project state changes |
| **TODO** | Items completed or new items identified |
| **Session Log** | Every session (append new entries at bottom) |

---

*This project is part of Anthony's personal development ecosystem. Session continuity is maintained through `_WORKING.md`.*
