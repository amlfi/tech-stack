<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{site.title}}</title>
  <meta name="description" content="{{site.description}}">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="./images/favicon.svg">

  <!-- Styles -->
  <link rel="stylesheet" href="./css/main.css">
  <link rel="stylesheet" href="./css/themes.css">

  <!-- Open Graph / Social Media -->
  <meta property="og:title" content="{{site.title}}">
  <meta property="og:description" content="{{site.description}}">
  <meta property="og:url" content="{{site.url}}">
  <meta property="og:type" content="website">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{site.title}}">
  <meta name="twitter:description" content="{{site.description}}">
</head>
<body>
  <!-- Theme Toggle -->
  <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
    <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
      <circle cx="10" cy="10" r="4" fill="currentColor"/>
      <path d="M10 0v3M10 17v3M20 10h-3M3 10H0M16.36 3.64l-2.12 2.12M5.76 14.24l-2.12 2.12M16.36 16.36l-2.12-2.12M5.76 5.76L3.64 3.64" stroke="currentColor" stroke-width="2"/>
    </svg>
    <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
      <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" fill="currentColor"/>
    </svg>
  </button>

  <div class="container">
    <!-- Header -->
    <header class="header">
      <h1 class="title">{{site.title}}</h1>
      <p class="subtitle">{{site.description}}</p>
    </header>

    <!-- Search Bar -->
    <div class="search-container">
      <input
        type="text"
        id="search-input"
        class="search-input"
        placeholder="Search tools..."
        aria-label="Search tools"
      >
    </div>

    <!-- Category Filter -->
    <div class="category-filter">
      <button class="filter-btn active" data-category="all">
        All Tools
      </button>
      {{#each categories}}
        <button class="filter-btn" data-category="{{this.id}}">
          <span class="category-icon">{{this.icon}}</span>
          {{this.name}}
        </button>
      {{/each}}
    </div>

    <!-- Tools Grid -->
    <main class="tools-grid">
      {{#each categories}}
        <section class="category-section" data-category="{{this.id}}">
          <h2 class="category-title">
            <span class="category-icon">{{this.icon}}</span>
            {{this.name}}
          </h2>

          <!-- Active Tools -->
          <div class="tools-list">
            {{#each (lookup ../toolsByCategory this.id)}}
              {{#unless (eq this.status 'retired')}}
                {{> tool-card}}
              {{/unless}}
            {{/each}}
          </div>

          <!-- Retired Tools -->
          {{#if (lookup ../retiredToolsByCategory this.id)}}
            <details class="retired-tools-section">
              <summary class="retired-tools-toggle">
                <span class="retired-icon">ðŸ“¦</span>
                Previously Used
              </summary>
              <div class="tools-list retired-tools-list">
                {{#each (lookup ../retiredToolsByCategory this.id)}}
                  {{> tool-card}}
                {{/each}}
              </div>
            </details>
          {{/if}}
        </section>
      {{/each}}
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>Built with <a href="https://github.com/yourusername/tech-stack" target="_blank">Tech Stack Generator</a></p>
      <p>Powered by <a href="https://decapcms.org" target="_blank">Decap CMS</a></p>
    </footer>
  </div>

  <!-- Scripts -->
  <script src="./js/theme.js"></script>
  <script src="./js/search.js"></script>
  <script src="./js/filter.js"></script>
  <script src="./js/modal.js"></script>
</body>
</html>
